!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,n){"use strict";e.exports={STATUS_OK:"Готов",STATUS_WAITING:"Ожидание",STATUS_ERROR:"Ошибка",METHOD_GET_USER:"users.get",METHOD_SEARCH_USERS:"users.search",VERSION:"5.52"}},,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this.store=t}return o(e,[{key:"getToken",value:function(){return e.getParam("access_token=")}},{key:"getSearchData",value:function(){var t=e.getParam("search_text="),n=parseInt(e.getParam("items_count=")),r=parseInt(e.getParam("scroll_position="));return history.pushState(null,null,e.getCleanUrl()),null===t?null:{text:t,itemsCount:n,scrollPosition:r}}},{key:"setUrlSearch",value:function(){this.setParam("search_text=",this.store.search.getValue()),this.setParam("items_count=",this.store.usersCount),this.setParam("scroll_position=",this.store.usersList.getScrollPosition())}},{key:"setParam",value:function(e,t){var n=window.location.href;if(-1===n.indexOf(e,0))return this.addParam(e,t);var r=n.indexOf(e,0)+e.length,o=n.indexOf("&",r);o=-1===o?n.length:o,history.pushState(null,null,n.substring(0,r)+t+n.substring(o,n.length))}},{key:"addParam",value:function(e,t){var n=window.location.href;-1===n.indexOf("=",0)?"#"===n.substring(n.length-1,n.length)?window.location.href=n+e+t:window.location.href=n+"#"+e+t:"&"===n.substring(n.length-1,n.length)?window.location.href=n+e+t:window.location.href=n+"&"+e+t}}],[{key:"goToMainPage",value:function(t){document.location.href=e.getCleanUrl()+"#search_text="+t}},{key:"getNewToken",value:function(){document.location.href="https://oauth.vk.com/authorize?client_id=6261615&display=page&redirect_uri="+this.getCleanUrl()+"&scope=friends&response_type=token&v=5.6"}},{key:"goToUserPage",value:function(t){var n=e.getId(t,"element-text-");return n?window.location.href=e.getCleanUrl()+"/user#id="+n:(n=e.getId(t,"element-img-"))?window.location.href=e.getCleanUrl()+"/user#id="+n:void(window.location.href=e.getCleanUrl()+"/user#id="+e.getId(t,"element-"))}},{key:"getCleanUrl",value:function(){var e=window.location.href,t=e.indexOf("/",8);return t=-1===t?e.length:t,e=e.substring(0,t),e=-1===e.indexOf("localhost:8080",0)?e:e+"/dust",e=-1===e.indexOf("test-hosting-00",0)?e:e+"/test-task-for-it-00"}},{key:"getParam",value:function(e){var t=window.location.href;if(-1===t.indexOf(e,0))return null;var n=t.indexOf(e,0)+e.length,r=t.indexOf("&",n);return r=-1===r?t.length:r,t.substring(n,r)}},{key:"getId",value:function(e,t){return-1===e.indexOf(t,0)?null:e.substring(t.length,e.length)}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(6),i=n(0),a=i.VERSION,u=i.METHOD_SEARCH_USERS,c=i.STATUS_WAITING,l=i.STATUS_ERROR,f=i.STATUS_OK,d=function(){function e(t){r(this,e),this.store=t,this.requesting=!1}return o(e,[{key:"sendRequest",value:function(e,t,n){var r=this;t.v=a,t.access_token=this.store.token;var o=null;for(var i in t)o=null===o?i+"="+t[i]:o+"&"+i+"="+t[i];this.store.statusBar.setStatus(c),s("https://api.vk.com/method/"+e+"?"+o,null,function(e,t){if(e)return console.log(e),r.store.statusBar.setStatus(l),void n(e,null);t.error?(console.log(t.error),r.store.statusBar.setStatus(l),n(t.error,null)):(r.store.statusBar.setStatus(f),n(e,t.response))})}},{key:"loadNewUsers",value:function(){var e=this;this.requesting||(this.requesting=!0,this.store.usersList.addAlertLoading(),this.sendRequest(u,{q:this.store.search.getValue(),fields:"photo_200",count:10,offset:this.store.usersCount},function(t,n){if(e.store.usersList.delAlert(),e.requesting=!1,t)return e.store.usersList.addAlertError();e.store.usersList.addItems(n),e.store.usersCount+=10}))}},{key:"startSearch",value:function(e,t){var n=this;this.sendRequest(u,{q:this.store.search.getValue(),fields:"photo_200",count:e},function(r,o){n.store.usersList.cleaning(),n.store.usersList.addItems(o),n.store.usersCount=e,t&&t()})}}]),e}();e.exports=d},function(e,t,n){function r(){}function o(e,t,n){function o(){u.parentNode&&u.parentNode.removeChild(u),window[f]=r,c&&clearTimeout(c)}function a(){window[f]&&o()}"function"==typeof t&&(n=t,t={}),t||(t={});var u,c,l=t.prefix||"__jp",f=t.name||l+i++,d=t.param||"callback",h=null!=t.timeout?t.timeout:6e4,g=encodeURIComponent,m=document.getElementsByTagName("script")[0]||document.head;return h&&(c=setTimeout(function(){o(),n&&n(new Error("Timeout"))},h)),window[f]=function(e){s("jsonp got",e),o(),n&&n(null,e)},e+=(~e.indexOf("?")?"&":"?")+d+"="+g(f),e=e.replace("?&","?"),s('jsonp req "%s"',e),u=document.createElement("script"),u.src=e,m.parentNode.insertBefore(u,m),a}var s=n(7)("jsonp");e.exports=o;var i=0},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,r)}}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function u(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}t=e.exports=n(9),t.log=i,t.formatArgs=s,t.save=a,t.load=u,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(u())}).call(t,n(8))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function i(){m&&h&&(m=!1,h.length?g=h.concat(g):p=-1,g.length&&a())}function a(){if(!m){var e=o(i);m=!0;for(var t=g.length;t;){for(h=g,g=[];++p<t;)h&&h[p].run();p=-1,t=g.length}h=null,m=!1,s(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,g=[],m=!1,p=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new u(e,t)),1!==g.length||m||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var a=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"==typeof o){var i=s[a];n=o.call(e,i),s.splice(a,1),a--}return n}),t.formatArgs.call(e,s);(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function s(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function i(){t.enable("")}function a(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=u,t.disable=i,t.enable=s,t.enabled=a,t.humanize=n(10),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=a?Math.round(e/a)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}function o(e){return s(e,c,"day")||s(e,u,"hour")||s(e,a,"minute")||s(e,i,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var i=1e3,a=60*i,u=60*a,c=24*u,l=365.25*c;e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return n(e);if("number"===s&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){r(this,e)}return o(e,[{key:"getCookie",value:function(){var e=document.cookie;if(-1===e.indexOf("token",0))return null;var t=e.indexOf("token",0)+"token".length+1,n=e.indexOf(";",t);return-1===n?e.substring(t,e.length):e.substring(t,n)}},{key:"setCookie",value:function(e){document.cookie="token="+e+";max-age=2678400;path=/"}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),i=s.STATUS_OK,a=s.STATUS_WAITING,u=s.STATUS_ERROR,c=function(){function e(){r(this,e),this.loading=document.getElementById("status-bar__loading"),this.ok=document.getElementById("status-bar__ok"),this.error=document.getElementById("status-bar__error")}return o(e,[{key:"setStatus",value:function(e){switch(e){case i:this.error.style.display="none",this.loading.style.display="none",this.ok.style.display="block";break;case a:this.error.style.display="none",this.loading.style.display="block",this.ok.style.display="none";break;case u:this.error.style.display="block",this.loading.style.display="none",this.ok.style.display="none"}}}]),e}();e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){r(this,e),this.text=document.getElementById("user-data__text")}return o(e,[{key:"setUser",value:function(e){this.text.textContent=e[0].first_name+" "+e[0].last_name}}]),e}();e.exports=s},function(e,t,n){"use strict";e.exports=function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?document.write('<script src="./style-mobile.js"><\/script>'):document.write('<script src="./style.js"><\/script>')}},,,,function(e,t,n){"use strict";var r=n(5),o=n(12),s=n(13),i=n(19),a=n(11),u=n(20),c=n(4),l=n(14),f=n(0),d=f.METHOD_GET_USER,h=f.STATUS_ERROR,g={};l(),g.token=(new a).getCookie(),null===g.token?c.getNewToken():(g.goToBack=new i,g.statusBar=new o(g),g.request=new r(g),g.userData=new s(g),g.userPage=new u,g.request.sendRequest(d,{},function(e,t){if(e)return c.getNewToken();g.userData.setUser(t);var n=c.getParam("id=");n?g.request.sendRequest(d,{user_ids:n,fields:"photo_200,city,online,occupation,counters,status"},function(e,t){e||g.userPage.setData(t[0])}):g.statusBar.setStatus(h)}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(4),s=function e(){var t=this;r(this,e),document.getElementById("go-to-back").onclick=function(){history.back()},this.input=document.getElementById("search__input"),this.input.onkeydown=function(e){13===e.keyCode&&o.goToMainPage(t.input.value)}};e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){r(this,e),this.name=document.getElementsByClassName("user-page-title__name"),this.online=document.getElementsByClassName("user-page-title__online"),this.status=document.getElementsByClassName("user-page-title__status"),this.img=document.getElementById("user-page-img__img"),this.work=document.getElementsByClassName("user-page-title__work"),this.city=document.getElementsByClassName("user-page-title__city"),this.friends=document.getElementById("user-page-content__friends"),this.groups=document.getElementById("user-page-content__groups"),this.subscribers=document.getElementById("user-page-content__subscribers"),this.interestingPages=document.getElementById("user-page-content__interesting-pages"),this.photos=document.getElementById("user-page-content__photo"),this.photoAlbum=document.getElementById("user-page-content__photo-album"),this.videos=document.getElementById("user-page-content__videos"),this.audio=document.getElementById("user-page-content__audio"),this.notes=document.getElementById("user-page-content__memos")}return o(e,[{key:"setData",value:function(e){console.log(e);for(var t in this.name)this.setDataSameElements(this.name[t],e.first_name+" "+e.last_name),this.setDataSameElements(this.online[t],0===e.online?"Offline":"Online"),this.setDataSameElements(this.status[t],e.status),this.setDataSameElements(this.work[t],e.occupation?e.occupation.name:""),this.setDataSameElements(this.city[t],e.city?"Город: "+e.city.title:"");var n="https://akphoto3.ask.fm/095/881/054/-99997000-1tq2mj8-915nosf68ntdrap/original/file.jpg";n=e.photo_200?e.photo_200:n,this.img.src=n,this.friends.textContent=this.createCountersText("Друзья",e.counters.friends),this.groups.textContent=this.createCountersText("Группы",e.counters.groups),this.subscribers.textContent=this.createCountersText("Подпищики",e.counters.subscriptions),this.interestingPages.textContent=this.createCountersText("Интересные страницы",e.counters.pages),this.photos.textContent=this.createCountersText("Фото",e.counters.photos),this.photoAlbum.textContent=this.createCountersText("Фото альбомы",e.counters.albums),this.videos.textContent=this.createCountersText("Видео",e.counters.videos),this.audio.textContent=this.createCountersText("Аудио записи",e.counters.audios),this.notes.textContent=this.createCountersText("Заметки",e.counters.notes)}},{key:"createCountersText",value:function(e,t){return void 0===t?e+": СКРЫТО":e+": "+t}},{key:"setDataSameElements",value:function(e,t){e.textContent&&(e.textContent=t)}}]),e}();e.exports=s}]);